<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>

    <!-- fontawsome 설정 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/user.css}">

    <!-- JQuery -->
    <script th:src="@{/script/jquery-3.7.1.min.js}"></script>
    <script>
        $(function(){
            $("#joinBtn").on("click", validaion);
        })

        // 유효성 검사
        function validaion() {
            let memId = $("#memId").val().trim();
            let memPw = $("#memPw").val().trim();
            let memName = $("#memName").val().trim();
            let phone = $("#phone").val().trim();

            // 아이디/비밀번호 3~10자 입력하지 않은 경우 경고창
            if (memId.length<3 || memId.length>10) {
                alert("아이디는 3~10자로 입력해주세요.");
                $("#memId").select();
                return;
            }
            if (memPw.length<3 || memPw.length>10) {
                alert("비밀번호는 3~10자로 입력해주세요.");
                $("#memPw").select();
                return;
            }

            // 이름/ 전화번호 입력여부 확인 후 입력하지 않은 경우 경고창
            if (memName.length==0) {
                alert("이름을 입력해주세요.");
                $("#memName").select();
                return;
            }
            if (phone.length==0) {
                alert("전화번호를 입력해주세요.");
                $("#phone").select();
                return;
            }
            
            // 올바르게 입력한 경우 submit 
            $("#memInfo").submit();

        }
    </script>


</head>
<body>

    <div class="logo">
        <a th:href="@{/}">
            <img th:src="@{/img/cat.png}" alt="로고">
        </a>
        <h2> 회원가입 </h2>
    </div>
    <div class="content">

        <form th:action="@{/user/joinProc}" method="post" id="memInfo">
            <div class="section pointColor">

                <div class="article">
                    <ul>
                        <li>
                            <i class="fa-solid fa-fingerprint"></i>
                            <input type="text" id="memId" name="memId" placeholder="ID 입력">
                        </li>
                        <li>
                            <i class="fa-solid fa-lock"></i>
                            <input type="password" id="memPw" name="memPw" placeholder="비밀번호 입력">
                        </li>
                        <li>
                            <i class="fa-solid fa-user"></i>
                            <input type="text" id="memName" name="memName" placeholder="이름 입력">
                        </li>
                        <li>
                            <i class="fa-solid fa-envelope"></i>
                            <input type="text" id="phone" name="phone" placeholder="ex)010-0000-0000">
                        </li>
                    </ul>
                    <div class="btns">
                        <input type="button" id="joinBtn" class="btn btn-info" value="가입">
                        <input type="reset" class="btn btn-primary" value="다시 쓰기">
                    </div>
                </div>
            </div>
            
        </form>
    </div>
    
</body>
</html>